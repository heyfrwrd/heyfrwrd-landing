---
import i18next from "i18next";
import { Sparkles } from "@lucide/astro";
import InputIsland from "@/components/ui/InputIsland.tsx";
import SocialIcons from "@/components/SocialIcons.astro";
const sparkles = Array.from({ length: 12 }).map(() => ({
  size: 12 + Math.random() * 24,
  top: Math.random() * 100,
  left: Math.random() * 100,
  opacity: (20 + Math.random() * 50).toFixed(0),
}));
---

<style is:global>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(1rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .fade-up {
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
  }

  @keyframes sparklePulse {
    0%,
    100% {
      opacity: 0.3;
      transform: scale(0.8);
    }
    50% {
      opacity: 1;
      transform: scale(1.2);
    }
  }
  .sparkle-animate {
    animation: sparklePulse 3s ease-in-out infinite;
  }
</style>

<div class="relative overflow-hidden min-h-[500px]">
  <div
    class="flex flex-col items-center justify-start px-10 text-center max-w-6xl mx-auto py-16"
  >
    <div class="fade-up" style="animation-delay: 0.2s;">
      <div
        class="flex items-center gap-2 bg-transparent rounded-md p-2 border border-gray-700/20 mb-2 fade-up"
        style="animation-delay: 0.2s;"
      >
        <Sparkles size={14} class="text-gray-700/20" fill="currentColor" />

        <span class="text-gray-700 font-medium">{i18next.t("home.soon")}</span>
      </div>
    </div>

    <div class="fade-up" style="animation-delay: 0.4s;">
      <h1
        class="text-6xl md:text-7xl lg:text-8xl font-bold text-gray-900 leading-none"
      >
        {
          (() => {
            const headline = i18next.t("home.headline");
            const match = headline.match(/<0>(.+?)<\/0>/);
            if (match) {
              const firstPart = match[1];
              const restPart = headline.replace(/<0>.+?<\/0>/, "");
              return (
                <>
                  <span class="text-[#683fe7]">{firstPart}</span>
                  {restPart}
                </>
              );
            }
            return headline;
          })()
        }
      </h1>
    </div>

    <div class="fade-up" style="animation-delay: 0.6s;">
      <p
        class="mt-8 text-lg md:text-xl text-gray-600 mb-10 max-w-3xl leading-relaxed"
      >
        {i18next.t("home.subtext")}
      </p>
    </div>

    <div class="fade-up" style="animation-delay: 0.8s; margin-bottom:2rem;">
      <InputIsland client:load />
    </div>

    <div class="fade-up" style="animation-delay: 1s;">
      <SocialIcons />
    </div>
  </div>
</div>
